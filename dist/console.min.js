!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Console=t():e.Console=t()}(window,function(){return(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[3],{"./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./vendor/cl/console/js/NotFoundComponent.vue?vue&type=script&lang=js&":function(e,t){e.exports={mounted:function(){this.$parent.setTitle("Page does not exist...")}}},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/console/js/TablesComponent.vue?vue&type=style&index=0&id=746ac1d7&lang=scss&scoped=true&":function(e,t,o){(e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"\nli a[data-v-746ac1d7]:first-child {\n  display: inline-block;\n  width: 12em;\n}\nli a[data-v-746ac1d7]:nth-child(2) {\n  font-size: 0.85em;\n  font-style: italic;\n}\n\n",""])},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/console/js/TablesComponent.vue?vue&type=style&index=0&id=746ac1d7&lang=scss&scoped=true&":function(e,t,o){var n=o("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/console/js/TablesComponent.vue?vue&type=style&index=0&id=746ac1d7&lang=scss&scoped=true&");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var s=(0,o("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("79e2e982",n,!1,{});n.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/console/js/TablesComponent.vue?vue&type=style&index=0&id=746ac1d7&lang=scss&scoped=true&",function(){var t=o("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/console/js/TablesComponent.vue?vue&type=style&index=0&id=746ac1d7&lang=scss&scoped=true&");"string"==typeof t&&(t=[[e.i,t,""]]),s(t)}),e.hot.dispose(function(){s()})},"./vendor/cl/console/index.js":function(e,t,o){"use strict";o.r(t);var n=function(e,t){this.title=t.title,this.order=t.order,this.options=[],this.add=function(t){this.options.push(new function(e,t){for(var o in t)this[o]=t[o];this.available=function(t){var o=this.atLeast;return o===Object(o)&&(o=e.permissions.atLeast(o.tag,o.default)),void 0===o||t.atLeast(o)}}(e,t))},this.sort=function(){this.options.sort(function(e,t){return e.order-t.order})},this.available=function(e){return e.atLeast(this.minimumRole(e))},this.minimumRole=function(t){if(0===this.options.length)return"A";var o=null,n=1e6;return this.options.forEach(function(s){var a=s.atLeast;a===Object(a)&&(a=e.permissions.atLeast(a.tag,a.default));var i=t.getRolePriority(a);0!==i&&i<n&&(o=a,n=i)}),null===o?"A":o}},s=function(e){var t=this,o=[];this.addStart=function(e){o.push(e)},this.start=function(e){o.forEach(function(t){t(e)})},this.main=[],this.addMainComponent=function(e,t,o){},this.nav2=[],this.addNav2=function(e,t){return this.nav2.push({component:e,order:t}),this.nav2.sort(function(e,t){return e.order-t.order}),e},this.removeNav2=function(e,t){if(Array.isArray(t)){var o=!0,n=!1,s=void 0;try{for(var a,i=t[Symbol.iterator]();!(o=(a=i.next()).done);o=!0){var r=a.value;this.removeNav2(e,r)}}catch(e){n=!0,s=e}finally{try{o||null==i.return||i.return()}finally{if(n)throw s}}}else for(var l=0;l<this.nav2.length;l++)if(this.nav2[l].component===t)return console.log("found it"),this.nav2.splice(l,1),void e.$set(this,"nav2",this.nav2)},this.addNav2Link=function(e,t,o,n){var s={template:'<a @click.prevent="click">'.concat(t,"</a>"),methods:{click:function(){n()}}};return this.addNav2(s,o),this.nav2.sort(function(e,t){return e.order-t.order}),e.$set(this,"nav2",this.nav2),s},this.nav2right=null,this.nav2left=null;var s=[];this.addOption=function(e){s.push(e)},this.pages=[],this.sort=function(){var t=this;s.forEach(function(o){var s=i(o.page.title);if(null!==s)s.add(o);else{var a=new function(e,t){var o=this;this.title=t.title,this.route=t.route,this.order=t.order,this.component=t.component,this.atLeast=void 0!==t.atLeast?t.atLeast:null,this.sections=[],this.add=function(t){if(void 0!==t.section){var o=s(t.section.title);if(null!==o)o.add(t);else{var a=new n(e,t.section);this.sections.push(a),a.add(t)}}},this.sort=function(){this.sections.sort(function(e,t){return e.order-t.order}),this.sections.forEach(function(e){e.sort()})};var s=function(e){for(var t in o.sections)if(o.sections[t].title===e)return o.sections[t];return null};this.available=function(e){return e.atLeast(this.minimumRole(e))},this.minimumRole=function(t){var o=this.atLeast;o===Object(o)&&(o=e.permissions.atLeast(o.tag,o.default));var n=null!==this.atLeast?t.getRolePriority(o):1e5;return this.sections.forEach(function(e){var s=e.minimumRole(t),a=t.getRolePriority(s);0!==a&&a<n&&(o=s,n=a)}),null===o?"A":o}}(e,o.page);t.pages.push(a),a.add(o)}}),this.pages.sort(function(e,t){return e.order-t.order}),this.pages.forEach(function(e){e.sort()}),this.main.sort(function(e,t){return e.order-t.order})},this.getPages=function(){return this.pages};var a=[];this.addRoute=function(e){a.push(e)},this.addRoutes=function(e){var t=!0,o=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var r=s.value;a.push(r)}}catch(e){o=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(o)throw n}}},this.getRoutes=function(){return a};var i=function(e){for(var o in t.pages)if(t.pages[o].title===e)return t.pages[o];return null}},a=o("./vendor/cl/console/js/NavComponent.vue"),i=o("./vendor/cl/console/js/NotFoundComponent.vue"),r=o("./vendor/cl/site/js/Util/StickyNav.js"),l=function(e){this.title="Site Console",this.components=new s(e),this.tables=new function(){this.tables=[],this.add=function(e){this.tables.push(e)}},this.start=function(t){var o=this;this.components.sort(),this.components.start(this);var n=e.store.state.user.user,s='<div class="cl-console"><site-header :title="title">\n<console-nav :console="console" :user="user"></console-nav>\n</site-header>';this.components.main.forEach(function(e){s+="<".concat(e.tag," />")}),s+="\n<router-view></router-view>\n<site-footer></site-footer></div>";var l=[],c=!0,d=!1,u=void 0;try{for(var v,p=this.components.getRoutes()[Symbol.iterator]();!(c=(v=p.next()).done);c=!0){var m=v.value,h={path:e.root+"/cl/console"+m.route,component:m.component};void 0!==m.props&&(h.props=m.props),void 0!==m.name&&(h.name=m.name),l.push(h)}}catch(e){d=!0,u=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw u}}this.components.pages.forEach(function(t){if(n.atLeast(t.minimumRole(n))){var s=void 0!==t.component?t.component:new function(e,t,o,n){var s=this;this.template='<div id="cl-console-main"><div class="content">';var a={},i=1;n.sections.forEach(function(e){if(e.available(o)){s.template+="<h2>".concat(e.title,"</h2>");var n="";e.options.forEach(function(e){if(void 0!==e.title){var s=e.atLeast;s===Object(s)&&(s=t.permissions.atLeast(s.tag,s.default)),(void 0===s||o.atLeast(s))&&(n+='<li><router-link to="'.concat(t.root,"/cl/console").concat(e.route,'">').concat(e.title,"</router-link></li>"))}}),n.length>0&&(s.template+="<ul>"+n+"</ul>"),e.options.forEach(function(e){void 0!==e.component&&(s.template+="<console-component-".concat(i,"></console-component-").concat(i,">"),a["console-component-"+i]=e.component,i++)})}}),this.template+="</div></div>",this.components=a,this.mounted=function(){"Main"===n.title?this.$parent.setTitle(""):this.$parent.setTitle(": "+n.title)}}(o,e,n,t);l.push({path:e.root+"/cl/console"+t.route,component:s}),t.sections.forEach(function(t){t.options.forEach(function(t){t.available(n)&&void 0!==t.routes&&t.routes.forEach(function(t){var o={path:e.root+"/cl/console"+t.route,component:t.component};void 0!==t.props&&(o.props=t.props),void 0!==t.name&&(o.name=t.name),l.push(o)})})})}}),l.push({path:"*",component:i.default});var f=e.info.header.component(),b=e.info.footer.component(),j=new e.VueRouter({routes:l,mode:"history"}),_={"site-header":f,"site-footer":b,"console-nav":a.a},y=e.store,g=this.title,C=this;this.masterVue=new Site.Vue({el:t,store:y,site:e,template:s,router:j,data:function(){return{title:g,console:C,user:n}},props:{},components:_,methods:{isAdmin:function(){return admin},setTitle:function(e){this.title=g+e,document.title=Site.info.siteName+" "+g+e}},created:function(){this.setTitle("")},mounted:function(){new r.a("div.cl-console nav")}})}},c=o("./vendor/cl/console/js/TablesComponent.vue"),d=function(){};d.create=function(e){var t=new l(e);return e.console=t,t.components.addOption({atLeast:Users.User.STAFF,page:{title:"Main",route:"",order:1}}),t.components.addOption({atLeast:Users.User.ADMIN,page:{title:"Management",route:"/management",order:10},section:{title:"Site Management",order:1},title:"Tables",order:10,route:"/management/tables",routes:[{route:"/management/tables",name:"tables",component:c.a}]}),e.start(function(){var e=document.querySelector("div.cl-console");null!==e&&t.start(e)}),t},o.d(t,"Console",function(){return u});var u=d.create(Site.Site);Site.Console=u},"./vendor/cl/console/js/NavComponent.vue":function(e,t,o){"use strict";var n=o("./vendor/cl/console/js/NavComponent.vue?vue&type=template&id=275a6eeb&"),s=o("./vendor/cl/console/js/NavComponent.vue?vue&type=script&lang=js&"),a=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(a.a)(s.a,n.render,n.staticRenderFns,!1,null,null,null),r=o("./node_modules/vue-hot-reload-api/dist/index.js");r.install(o("./node_modules/vue/dist/vue.esm.js")),r.compatible&&(e.hot.accept(),e.hot.data?r.reload("275a6eeb",i.options):r.createRecord("275a6eeb",i.options),e.hot.accept("./vendor/cl/console/js/NavComponent.vue?vue&type=template&id=275a6eeb&",function(e){n=o("./vendor/cl/console/js/NavComponent.vue?vue&type=template&id=275a6eeb&"),r.rerender("275a6eeb",{render:n.render,staticRenderFns:n.staticRenderFns})})),i.options.__file="vendor/cl/console/js/NavComponent.vue",t.a=i.exports},"./vendor/cl/console/js/NavComponent.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";var n={props:["console","user"],data:function(){return{homeLink:Site.root+"/"}},components:{},mounted:function(){},methods:{pageLink:function(e){return"".concat(Site.root,"/cl/console").concat(e.route)}}};t.a=n},"./vendor/cl/console/js/NavComponent.vue?vue&type=template&id=275a6eeb&":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("nav",{staticClass:"cl-nav"},[o("div",[o("ul",{staticClass:"dividers"},[o("li",[o("a",{attrs:{href:e.homeLink}},[o("span",{staticClass:"home"},[e._v("Home")])])]),e._v(" "),e._l(e.console.components.pages,function(t){return t.available(e.user)?o("li",[o("router-link",{attrs:{to:e.pageLink(t)}},[e._v(e._s(t.title))])],1):e._e()})],2)]),e._v(" "),e.console.components.nav2.length>0?o("div",[o("div",{staticClass:"nav2"},[o("div",{staticClass:"left"},[e.console.components.nav2left?o(e.console.components.nav2left,{tag:"component"}):e._e()],1),e._v(" "),o("div",{staticClass:"center"},e._l(e.console.components.nav2,function(t){return o("div",[o(t.component,{tag:"component",attrs:{short:e.console.components.nav2.length>2}})],1)})),e._v(" "),o("div",{staticClass:"right"},[e.console.components.nav2right?o(e.console.components.nav2right,{tag:"component"}):e._e()],1)])]):e._e()])},s=[];n._withStripped=!0,o.d(t,"render",function(){return n}),o.d(t,"staticRenderFns",function(){return s})},"./vendor/cl/console/js/NotFoundComponent.vue":function(e,t,o){"use strict";var n=o("./vendor/cl/console/js/NotFoundComponent.vue?vue&type=template&id=a597ab66&"),s=o("./vendor/cl/console/js/NotFoundComponent.vue?vue&type=script&lang=js&"),a=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(a.a)(s.default,n.render,n.staticRenderFns,!1,null,null,null),r=o("./node_modules/vue-hot-reload-api/dist/index.js");r.install(o("./node_modules/vue/dist/vue.esm.js")),r.compatible&&(e.hot.accept(),e.hot.data?r.reload("a597ab66",i.options):r.createRecord("a597ab66",i.options),e.hot.accept("./vendor/cl/console/js/NotFoundComponent.vue?vue&type=template&id=a597ab66&",function(e){n=o("./vendor/cl/console/js/NotFoundComponent.vue?vue&type=template&id=a597ab66&"),r.rerender("a597ab66",{render:n.render,staticRenderFns:n.staticRenderFns})})),i.options.__file="vendor/cl/console/js/NotFoundComponent.vue",t.default=i.exports},"./vendor/cl/console/js/NotFoundComponent.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";var n=o("./node_modules/babel-loader/lib/index.js?!./node_modules/vue-loader/lib/index.js?!./vendor/cl/console/js/NotFoundComponent.vue?vue&type=script&lang=js&"),s=o.n(n);t.default=s.a},"./vendor/cl/console/js/NotFoundComponent.vue?vue&type=template&id=a597ab66&":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this.$createElement;this._self._c;return this._m(0)},s=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"content"},[t("p",[this._v("Page does not exist...")])])}];n._withStripped=!0,o.d(t,"render",function(){return n}),o.d(t,"staticRenderFns",function(){return s})},"./vendor/cl/console/js/TablesComponent.vue":function(e,t,o){"use strict";var n=o("./vendor/cl/console/js/TablesComponent.vue?vue&type=template&id=746ac1d7&scoped=true&"),s=o("./vendor/cl/console/js/TablesComponent.vue?vue&type=script&lang=js&"),a=(o("./vendor/cl/console/js/TablesComponent.vue?vue&type=style&index=0&id=746ac1d7&lang=scss&scoped=true&"),o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(a.a)(s.a,n.render,n.staticRenderFns,!1,null,"746ac1d7",null),r=o("./node_modules/vue-hot-reload-api/dist/index.js");r.install(o("./node_modules/vue/dist/vue.esm.js")),r.compatible&&(e.hot.accept(),e.hot.data?r.reload("746ac1d7",i.options):r.createRecord("746ac1d7",i.options),e.hot.accept("./vendor/cl/console/js/TablesComponent.vue?vue&type=template&id=746ac1d7&scoped=true&",function(e){n=o("./vendor/cl/console/js/TablesComponent.vue?vue&type=template&id=746ac1d7&scoped=true&"),r.rerender("746ac1d7",{render:n.render,staticRenderFns:n.staticRenderFns})})),i.options.__file="vendor/cl/console/js/TablesComponent.vue",t.a=i.exports},"./vendor/cl/console/js/TablesComponent.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";var n=o("./packages/dialog-cl/src/app.modules.js"),s={data:function(){return{tables:this.$site.console.tables.tables,create:function(e,t){var o=this;this.$site.api.post(e.api,{drop:t?"yes":"no"}).then(function(n){n.hasError()?o.$site.toast(o,n):t?o.$site.toast(o,e.title+" tables dropped and recreated"):o.$site.toast(o,e.title+" tables created")}).catch(function(e){o.$site.toast(o,e)})},dropCreate:function(e){var t=this;new n.a.MessageBox("Are you sure?","Are you sure you want to drop and recreate the "+e.title+" tables?",n.a.MessageBox.OKCANCEL,function(){t.create(e,!0)})}}},mounted:function(){this.$parent.setTitle(": Database Tables"),this.$site.console.tables.tables.sort(function(e,t){return e.order-t.order})}};t.a=s},"./vendor/cl/console/js/TablesComponent.vue?vue&type=style&index=0&id=746ac1d7&lang=scss&scoped=true&":function(e,t,o){"use strict";var n=o("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/console/js/TablesComponent.vue?vue&type=style&index=0&id=746ac1d7&lang=scss&scoped=true&");o.n(n).a},"./vendor/cl/console/js/TablesComponent.vue?vue&type=template&id=746ac1d7&scoped=true&":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content"},[o("h2",[e._v("Database Tables Management")]),e._v(" "),e._m(0),e._v(" "),o("p",[e._v("The page provides an Administrator the ability to create and destroy database tables.\n  Only use during course startup! The create option will not drop an existing table\n  unless the drop and create option is selected.")]),e._v(" "),o("ul",e._l(e.tables,function(t){return o("li",[o("a",{on:{click:function(o){o.preventDefault(),e.create(t,!1)}}},[e._v(e._s(t.title))]),e._v(" "),o("a",{on:{click:function(o){o.preventDefault(),e.dropCreate(t)}}},[e._v("drop-and-create")])])}))])},s=[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"center red"},[t("em",[this._v("Use with caution!")])])}];n._withStripped=!0,o.d(t,"render",function(){return n}),o.d(t,"staticRenderFns",function(){return s})},"./vendor/cl/site/js/Util/StickyNav.js":function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=function(e){for(var t=[],o=document.createElement("div"),n=!1,s=document.querySelectorAll(e),a=0;a<s.length;a++)t.push({nav:s[a],sticky:s[a].offsetTop});window.addEventListener("scroll",function(e){for(var s=0;s<t.length;s++){var a=t[s];window.pageYOffset>=a.sticky?(n||(a.nav.classList.add("cl-sticky"),a.nav.parentNode.appendChild(o),n=!0),o.style.height=a.nav.clientHeight+"px"):n&&(a.nav.classList.remove("cl-sticky"),o.parentNode.removeChild(o),n=!1)}})}}},[["./vendor/cl/console/index.js",1,0]]])});